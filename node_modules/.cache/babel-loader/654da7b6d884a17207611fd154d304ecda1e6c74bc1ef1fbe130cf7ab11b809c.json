{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useIsomorphicEffect from '@restart/hooks/useIsomorphicEffect';\nimport React, { useRef, cloneElement, useState } from 'react';\nimport NoopTransition from './NoopTransition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useTransition({\n  in: inProp,\n  onTransition\n}) {\n  _s();\n  const ref = useRef(null);\n  const isInitialRef = useRef(true);\n  const handleTransition = useEventCallback(onTransition);\n  useIsomorphicEffect(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  useIsomorphicEffect(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\n_s(useTransition, \"OhWDvR1yA2mBo7PWW55A2xt8tt4=\", false, function () {\n  return [useEventCallback, useIsomorphicEffect, useIsomorphicEffect];\n});\nexport default function ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  _s2();\n  const [exited, setExited] = useState(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = useMergedRefs(ref, children.ref);\n  return exited && !inProp ? null : /*#__PURE__*/cloneElement(children, {\n    ref: combinedRef\n  });\n}\n_s2(ImperativeTransition, \"VD0oUf0TdwM/7lDv/9QSFT2AoCM=\", false, function () {\n  return [useTransition, useMergedRefs];\n});\n_c = ImperativeTransition;\nexport function renderTransition(Component, runTransition, props) {\n  if (Component) {\n    return /*#__PURE__*/_jsx(Component, Object.assign({}, props));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/_jsx(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/_jsx(NoopTransition, Object.assign({}, props));\n}\nvar _c;\n$RefreshReg$(_c, \"ImperativeTransition\");","map":{"version":3,"names":["useMergedRefs","useEventCallback","useIsomorphicEffect","React","useRef","cloneElement","useState","NoopTransition","jsx","_jsx","useTransition","in","inProp","onTransition","_s","ref","isInitialRef","handleTransition","current","undefined","stale","element","initial","isStale","ImperativeTransition","children","onExited","onEntered","transition","_s2","exited","setExited","options","onFinish","Promise","resolve","then","error","combinedRef","_c","renderTransition","Component","runTransition","props","Object","assign","$RefreshReg$"],"sources":["/home/bilal/ReactLabs/myportfolio/src/node_modules/@restart/ui/esm/ImperativeTransition.js"],"sourcesContent":["import useMergedRefs from '@restart/hooks/useMergedRefs';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useIsomorphicEffect from '@restart/hooks/useIsomorphicEffect';\nimport React, { useRef, cloneElement, useState } from 'react';\nimport NoopTransition from './NoopTransition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useTransition({\n  in: inProp,\n  onTransition\n}) {\n  const ref = useRef(null);\n  const isInitialRef = useRef(true);\n  const handleTransition = useEventCallback(onTransition);\n  useIsomorphicEffect(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  useIsomorphicEffect(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nexport default function ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  const [exited, setExited] = useState(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = useMergedRefs(ref, children.ref);\n  return exited && !inProp ? null : /*#__PURE__*/cloneElement(children, {\n    ref: combinedRef\n  });\n}\nexport function renderTransition(Component, runTransition, props) {\n  if (Component) {\n    return /*#__PURE__*/_jsx(Component, Object.assign({}, props));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/_jsx(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/_jsx(NoopTransition, Object.assign({}, props));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}