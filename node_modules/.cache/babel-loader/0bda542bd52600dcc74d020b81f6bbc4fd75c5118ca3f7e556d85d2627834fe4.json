{"ast":null,"code":"import { createTransport } from \"../modules/nodemailer\";\nimport { appendFile } from \"../modules/fs-extra\";\nconst logToFile = message => {\n  const logMessage = `[${new Date().toISOString()}] ${message}\\n`;\n  appendFile(\"sendMail.log\", logMessage, err => {\n    if (err) {\n      console.error(\"Error writing to log file:\", err);\n    }\n  });\n};\nmodule.exports.sendMail = async (name, to, from, subject, message) => {\n  logToFile(\"Sending email..., in the sendMail.js file\");\n  try {\n    let transporter = createTransport({\n      service: \"gmail\",\n      host: \"smtp.google.com\",\n      secure: false,\n      port: 25,\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASS\n      },\n      tls: {\n        rejectUnauthorized: false\n      }\n    });\n    const mailOptions = {\n      from: from,\n      to: to,\n      subject: subject,\n      text: `${name} has sent a message: ${message}`\n    };\n    await transporter.sendMail(mailOptions);\n    logToFile(\"Email sent!\");\n    return true;\n  } catch (error) {\n    logToFile(`Error sending email: ${error}`);\n    return false;\n  }\n};","map":{"version":3,"names":["createTransport","appendFile","logToFile","message","logMessage","Date","toISOString","err","console","error","module","exports","sendMail","name","to","from","subject","transporter","service","host","secure","port","auth","user","process","env","EMAIL_USER","pass","EMAIL_PASS","tls","rejectUnauthorized","mailOptions","text"],"sources":["/home/bilal/ReactLabs/myportfolio/src/smtp/sendMail.js"],"sourcesContent":["import { createTransport } from \"../modules/nodemailer\";\nimport { appendFile } from \"../modules/fs-extra\";\n\nconst logToFile = (message) => {\n  const logMessage = `[${new Date().toISOString()}] ${message}\\n`;\n  appendFile(\"sendMail.log\", logMessage, (err) => {\n    if (err) {\n      console.error(\"Error writing to log file:\", err);\n    }\n  });\n};\n\nmodule.exports.sendMail = async (name, to, from, subject, message) => {\n  logToFile(\"Sending email..., in the sendMail.js file\");\n  try {\n    let transporter = createTransport({\n      service: \"gmail\",\n      host: \"smtp.google.com\",\n      secure: false,\n      port: 25,\n      auth: { user: process.env.EMAIL_USER, pass: process.env.EMAIL_PASS },\n      tls: { rejectUnauthorized: false },\n    });\n    const mailOptions = {\n      from: from,\n      to: to,\n      subject: subject,\n      text: `${name} has sent a message: ${message}`,\n    };\n    await transporter.sendMail(mailOptions);\n    logToFile(\"Email sent!\");\n    return true;\n  } catch (error) {\n    logToFile(`Error sending email: ${error}`);\n    return false;\n  }\n};\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,uBAAuB;AACvD,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC7B,MAAMC,UAAU,GAAI,IAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAE,KAAIH,OAAQ,IAAG;EAC/DF,UAAU,CAAC,cAAc,EAAEG,UAAU,EAAGG,GAAG,IAAK;IAC9C,IAAIA,GAAG,EAAE;MACPC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;IAClD;EACF,CAAC,CAAC;AACJ,CAAC;AAEDG,MAAM,CAACC,OAAO,CAACC,QAAQ,GAAG,OAAOC,IAAI,EAAEC,EAAE,EAAEC,IAAI,EAAEC,OAAO,EAAEb,OAAO,KAAK;EACpED,SAAS,CAAC,2CAA2C,CAAC;EACtD,IAAI;IACF,IAAIe,WAAW,GAAGjB,eAAe,CAAC;MAChCkB,OAAO,EAAE,OAAO;MAChBC,IAAI,EAAE,iBAAiB;MACvBC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;QAAEC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,UAAU;QAAEC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG;MAAW,CAAC;MACpEC,GAAG,EAAE;QAAEC,kBAAkB,EAAE;MAAM;IACnC,CAAC,CAAC;IACF,MAAMC,WAAW,GAAG;MAClBhB,IAAI,EAAEA,IAAI;MACVD,EAAE,EAAEA,EAAE;MACNE,OAAO,EAAEA,OAAO;MAChBgB,IAAI,EAAG,GAAEnB,IAAK,wBAAuBV,OAAQ;IAC/C,CAAC;IACD,MAAMc,WAAW,CAACL,QAAQ,CAACmB,WAAW,CAAC;IACvC7B,SAAS,CAAC,aAAa,CAAC;IACxB,OAAO,IAAI;EACb,CAAC,CAAC,OAAOO,KAAK,EAAE;IACdP,SAAS,CAAE,wBAAuBO,KAAM,EAAC,CAAC;IAC1C,OAAO,KAAK;EACd;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}